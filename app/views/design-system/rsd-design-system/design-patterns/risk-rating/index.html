{% extends "layouts/content-with-sidenav.html" %}
{% import "../code-frame.html" as sample %}
{% import "./code-snippets.html" as codeSnippet %}

{% set pageName = "Risk rating" %}
{% set pageDescription = "Recording risk ratings." %}
{% set pageCaption = "Regional Services Division design pattern" %}
{% set selectedNav = "Design system" %}
{% set setSelectedSideNav = "" %}
{% set parentSection = "rsd-design-system"%}
{% set childSection = "design-patterns"%}
{% set isChildSection = "true"%}

{% set isSubNavSection = "true" %}
{% set lastUpdated = "October 2024 "%}
{% set backlog_issue_id = "105" %}


{% block beforeContent %}{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    {{ sample.code('/design-system/rsd-design-system/design-patterns/risk-rating/example-risk-rating.html', 'Risk rating', 'risk-rating', codeSnippet.htmlCodeRiskRating) }}

    <h2>When to use this pattern</h2>
    <p>Use this pattern to record and display red, amber and green (RAG) risk ratings.</p>
    
    <h2>How it works</h2>

    <p>There are 2 parts to this pattern:</p>
    <ol>
        <li>Reading risk ratings.</li>
        <li>Updating risk ratings.</li>
    </ol>

    <h3>Reading risk ratings</h3>

    <p>When users need to read a risk rating and summary, use a <a href="https://design-system.service.gov.uk/components/summary-list/#summary-cards">summary card</a> to present this information.</p>

    <p>The 'risk rating and summary' card includes:</p>

    <ul>
      <li>the date the risk rating was provided</li>
      <li> <a href="https://design-system.service.gov.uk/components/tag/">tags</a> that show the risk rating. The CSS classes are mentioned below</li>
      <li>a summary of the risk rating. Show the summary in paragraphs, if the user entered them</li>
      <li>a 'View details' link, if there are more details about the risk rating that users need to see</li>
    </ul>

    <figure class="govuk-!-margin-bottom-9" style="margin: 0;">
      <img style="border: 1px solid #999999;" src="/assets/images/rsd-design-patterns/risk-rating-summary-card.png"
        alt="A project with a notes tab. A success banner titled 'Your note has been edited' appears at the top of the project page." width="100%">
      <figcaption>Risk rating summary card</figcaption>
    </figure>

    <h4>Tag CSS classes</h4>
    <p>Use these CSS classes for the tags:</p>
    <ul>
      <li><code>govuk-tag--green</code></li>
      <li><code>dfe-tag--amber</code>. This is a custom CSS class because there isn't an amber tag in the GOV.UK Design System:
        <div class="code-example">
          <pre style="background: #f3f2f1; padding: 10px; overflow: hidden;">
  &lt;style&gt;
  .dfe-tag--amber {
    color: #66420d;
    background: #ffe4bc;
  }
  &lt;/style&gt;</pre>    
        </div>
      </li>
      <li><code>govuk-tag--red</code></li>
    </ul>

    <h4>View details</h4>

    <p>Clicking the 'View details' link should take users to a separate page.<p>
      
    <p>On this 'View details' page, you could include:</p>
    
    <ul>
    <li>any other risk information in a summary list</li>
    <li>a primary button, if users should be able to update the information</li>
    <li>a table to show any previous risk ratings and summaries</li>
    </ul>

    <figure class="govuk-!-margin-bottom-9" style="margin: 0;">
      <img style="border: 1px solid #999999;" src="/assets/images/rsd-design-patterns/risk-rating-view-details-page.png"
        alt="A project with a notes tab. A success banner titled 'Your note has been edited' appears at the top of the project page." width="100%">
      <figcaption>Risk rating view details page</figcaption>
    </figure>
    
    <h3>Updating risk ratings</h3>
    
    <p>When users click the 'Update risk rating and summary' primary button, take them to a separate page.</p>
      
    <p>This 'Update' page has a:</p>
      
      <ul>
        <li>check answers pattern, with each row having its own 'Change' link</li>
        <li>checkbox, so users can confirm they have reviewed the risk rating and summary - even if it have not changed since the last review</li>
        <li>primary button, so users can save the risk rating and summary once they have reviewed it</li>
      </ul>

      <figure class="govuk-!-margin-bottom-9" style="margin: 0;">
        <img style="border: 1px solid #999999;" src="/assets/images/rsd-design-patterns/risk-rating-check-your-answers-page.png"
          alt="A project with a notes tab. A success banner titled 'Your note has been edited' appears at the top of the project page." width="100%">
        <figcaption>Risk rating check your answers page</figcaption>
      </figure>

      <h4>Change links to separate pages</h4>

    <p>When users click a change link, take them to a separate page. You may want to group related fields on the same page.<p>
      
    <p>For example, the change links for 'overall risk rating' and 'overall risk summary' could go to a single page that updates both pieces of information.</p>
    
    <p>To update the risk rating, use a <a href="https://design-system.service.gov.uk/components/radios/">radios</a> list, with each item displaying one or more <a href="https://design-system.service.gov.uk/components/tag/">tags</a> to indicate the risk rating.</p>
    <p>To update the risk summary, use a <a href="https://design-system.service.gov.uk/components/textarea/">textarea</a> so users can explain why they chose a particular risk rating. Make the height of the textarea proportional to the amount of text you expect users to enter.</p>
    
    <p>When users have updated the information, use a primary button to take them back to the 'Update' page.</p>
    
    <h4>Success banner</h4>

    <p>When users select the primary button to save the risk rating and summary, show a success banner to confirm the rating and summary have been updated.</p>

    <p>You may want to include a link back to the 'View details' page, so they can check themselves that the changes have been made.</p>

    <p>If there is another page you think users will need to visit after updating the rating and summary, you can link to that page as well.</p>
    
    <h3>Error messages</h3>
    <p>Make sure errors follow the <a href="https://design-system.service.gov.uk/components/error-message/">error message</a> guidance, with specific error messages for specific error states.</p>
    
    <h4>If a radio button has not been selected</h4>
    <p>Say 'Select a risk rating'.</p>
    
    <h4>If the textarea has not been filled in</h4>
    <p>Say 'Enter the risk summary'.</p>
    
    <h2>Research on this pattern</h2>
    <p>This pattern is being used in <a href="https://design-histories.education.gov.uk/manage-free-school-projects/risk-rating-iteration">Manage free school projects</a> to meet this need from our <a href="https://educationgovuk.sharepoint.com/sites/ServiceDeliveryDirectorate/Lists/RSD%20crossprogramme%20user%20needs/AllItems.aspx?env=WebViewList">user needs database (opens a DfE Microsoft List)</a>:</p>
    
    <p><strong>User need 134:</strong> when managing a free school project, I need to record and update the project's risk rating, so that stakeholders and I know if the school is likely to open on time.</p>
    
    <p>Here's a <a href="https://design-histories.education.gov.uk/manage-free-school-projects/risk-rating-iteration">design history post about the risk rating pattern</a>.</p>
    
  </div>
</div>


{% endblock%}